<!DOCTYPE html>
<html lang="de">
  <head>
    <title>Global Carbon Insights</title>
    
        <!--Einbindung Bootstrap Framework für CSS-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2/dist/css/bootstrap.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--Platzhalter für media query für responsive design (Kapitel 4)-->

        <style>
          /* Stile für die Menüplatzierung bei rtl-Sprachen */
          .navbar-rtl {
            justify-content: flex-end;
          }
        </style>
  </head>

  <body>

    <div class="container">
        
        <header class="row align-items-center">
            <!--Globale Navigation-->
            <nav class="d-flex justify-content-end py-3 my-4 border-top">
                <ul class="nav">
                <li class="nav-item"><a
                        href="https://www.twitter.com/globalcarboninsights">Twitter</a></li>
                <li class="nav-item"><a
                        href="https://www.instagram.com/globalcarboninsights">Instagram</a></li>
                <li class="nav-item"><a
                        href="https://www.facebook.com/globalcarboninsights">Facebook</a></li>
                </ul>
            </nav>

            <div class="col-sm-4">
                <img src="Logo1.jpg" alt="Logo" class="img-fluid">
            </div>
            <div class="col-sm-8">
                <h1 dir="auto">Global Carbon Insights</h1>
                <h2>Unsere Mission sind Transparenz und Aufklärung!</h2>
            </div>
        </header>


      <!--Menue der internen Links zur Navigation auf der Webseite-->
      <main class="d-flex">
        <div id="menue">
          <nav class="d-flex flex-shrink-0 p-2" style="width: 180px">
              <ul class="nav mb-auto">
              <li><a href="#about-section">Über uns</a></li>
              <li><a href="#countries_CO2">CO2 der Länder</a></li>
              <li><a href="#companies_CO2">CO2 der Unternehmen</a></li>
              </ul>
          </nav>
      </div>
            
        
        <div class="col-md-9"> 
          <!-- Section - Über uns -->    
          <div class="list-group mb-4">
            <section id="about-section" class="list-group-item">
            <h1>Über uns - Global Carbon Insights</h1>
            <p>
              Herzlich willkommen bei Global Carbon Insights! Wir sind ein engagiertes Non-Profit-Unternehmen, das sich leidenschaftlich dem Kampf gegen den Klimawandel verschrieben hat. Unsere Mission ist es, das Bewusstsein für die drängenden Herausforderungen des Klimawandels zu schärfen und die Öffentlichkeit über die CO2-Emissionen von Ländern und Unternehmen weltweit aufzuklären.
            </p>
          
            <h2>Unsere Geschichte</h2>
            <p>
              Global Carbon Insights wurde ursprünglich von einer Gruppe von begeisterten Umweltschützern und Forschern ins Leben gerufen, die eine gemeinsame Vision teilten: Eine Welt zu schaffen, in der alle Menschen über die Auswirkungen ihrer Handlungen auf den Planeten informiert sind. Unsere Gründer waren zutiefst besorgt über die zunehmenden Naturkatastrophen und Extremwetterereignisse, die durch den Klimawandel verursacht wurden, und sie erkannten die dringende Notwendigkeit, Maßnahmen zu ergreifen.
            </p>
          
            <h2>Unsere Motivation</h2>
            <p>
              Unsere Motivation entstammt der Überzeugung, dass Wissen und Transparenz der Schlüssel zur Veränderung sind. Indem wir verlässliche Daten über die CO2-Emissionen von Ländern und Unternehmen zugänglich machen, ermöglichen wir es der Weltgemeinschaft, informierte Entscheidungen zu treffen und gezielte Schritte zur Reduzierung ihres ökologischen Fußabdrucks zu unternehmen.
            </p>
            <p>
              Der Klimawandel hat bereits dramatische Auswirkungen auf unseren Planeten, von schmelzenden Gletschern bis hin zu verheerenden Naturkatastrophen wie Stürmen, Dürren und Überschwemmungen. Wir sehen die Verbindung zwischen dem Klimawandel und diesen Naturkatastrophen als Weckruf für dringende Maßnahmen. Durch Aufklärung und Sensibilisierung möchten wir die Menschen dazu inspirieren, gemeinsam für eine nachhaltige Zukunft einzutreten.
            </p>
          
            <h2>Unser Ziel</h2>
            <p>
              Unser Ziel ist es, jedem Bürger einen klaren Überblick über die CO2-Emissionen von Ländern und Unternehmen zu geben, damit sie die Auswirkungen auf unser Klima besser verstehen können. Wir glauben, dass Wissen die Grundlage für kollektive Veränderung ist. Indem wir aufklären und informieren, hoffen wir, dass Menschen und Regierungen auf der ganzen Welt Maßnahmen ergreifen, um den Klimawandel zu bekämpfen und eine lebenswerte Umwelt für zukünftige Generationen zu bewahren.
            </p>
            <p>
              Wir sind fest davon überzeugt, dass jeder Einzelne einen wertvollen Beitrag zum Klimaschutz leisten kann. Gemeinsam können wir den Klimawandel bekämpfen und eine nachhaltige, blühende Zukunft für unseren wunderbaren Planeten gestalten.
            </p>
          
            <h2>Vielen Dank, dass Sie uns auf dieser wichtigen Reise begleiten!</h2>
            <p></p>
            <h1>Gemeinsam für den Planeten. Gemeinsam für eine nachhaltige Zukunft.</h1>
            <section>
         </div>
          
     
        <!-- Section - CO2-Footprint der Laender -->
        <div class="list-group mb-4"> 
          <section id="countries_CO2" class="list-group-item">
            <h1>CO2-Fooprint der Länder</h1>
            <p>
                Lorem ipsum dolor sit amet, consetetur sadipscing elitr, 
            </p>

            <div class="row mt-3">
              <div class="col-md-6 mb-3">
                  <!-- Suchfeld zum Filtern nach einzelnen Ländern -->
                  <form>
                      <input type="text" class="form-control" name="suche" id="search-country" placeholder="Suche nach Land" oninput="filterByCountry(this.value)">
                  </form>
              </div>
          
              <div class="col-md-6">
                  <!-- Drop-Down-Menü zum Filtern der Länder nach Alphabet, nach CO2-Ausstoß aufsteigend oder absteigend -->
                  <form class="form-inline">
                      <select id="sortOption" class="form-select" onchange="sortTable()">
                          <option value="default">Sortieren nach:</option>
                          <option value="alphabetical">Land (alphabetisch)</option>
                          <option value="emissions_asc">CO²-Emissionen (aufsteigend)</option>
                          <option value="emissions_desc">CO²-Emissionen (absteigend)</option>
                      </select>
                  </form>
              </div>
          
          
          <div class="table-responsive-countries">
              <table class="table table-bordered table-striped" id="country-table">
                  <thead>
                      <tr>
                          <th>Land</th>
                          <th>tCO2/Kopf</th>
                      </tr>
                  </thead>
                  <tbody id="country-data">
                      <!-- Hier werden die JSON-Daten angezeigt -->
                  </tbody>
              </table>
          </div>
          </section>
        </div>

        <!-- Section - CO2-Footprint der Unternehmen -->
        <div class="list-group mb-4">
          <section id="companies_CO2"  class="list-group-item">
            <h1>CO2-Fooprint der Unternehmen</h1>
            <p>
                Lorem ipsum dolor sit amet, consetetur sadipscing elitr, 
            </p>

          <div class="row mt-3">
            <div class="col-md-6 mb-3">
            <!--Suchfeld zum Filtern nach einzelnen Unternehmen-->
            <form>
              <input type="text" class="form-control" name="suche" id="search-company" placeholder="Suche nach Unternehmen" oninput="filterByCompany(this.value)">
            </form>
            </div>

            <div class="col-md-6">
            <!--Drop-Down Menue zum Filtern der Unternehmen nach Alphabet, nach CO2 Ausstoss aufsteigend oder absteigend-->
            <form class="form-inline">
                <select id="sortOptionComp" class="form-select" onchange="sortTableCompany()">
                <option value="default">Sortieren nach:</option>
                <option value="alphabetical">Unternehmen (alphabetisch)</option>
                <option value="emissions_asc">CO²-Emissionen (aufsteigend)</option>
                <option value="emissions_desc">CO²-Emissionen (absteigend)</option>
            </select>
            </form>
            </div>
          </div>

              <div class="table-responsive-companies">
                <table class="table table-bordered table-striped" id="company-table">
                  <thead>
                    <tr>
                      <th>Unternehmen</th>
                      <th>CO2 Ausstoß in Tonnen</th>
                    </tr>
                  </thead>
                  <tbody id="company-data">
                    <!-- Hier werden die JSON-Daten angezeigt -->
                  </tbody>
                </table>
              </div>

          </section>
        </div> 
        </div>  
      </main>

      <footer class="d-flex justify-content-end py-3 my-4 border-top">
        <nav>
            <ul class="nav">
              <li class="nav-item"><a 
                     href="contact.html">Kontakt</a></li>
              <li class="nav-item"><a 
                     href="imprint.html">Impressum</a></li>
            </ul>
          </nav>

    </footer>
  </body>

      <script>
        const jsonData = {
            "countries": [
            {"tCO2/Kopf": 38.2, "Land": "Luxemburg"},
            {"tCO2/Kopf": 25.4, "Land": "Katar"},
            {"tCO2/Kopf": 23.2, "Land": "UAE"},
            {"tCO2/Kopf": 23.2, "Land": "Kuwait"},
            {"tCO2/Kopf": 23.2, "Land": "Brunei"},
            {"tCO2/Kopf": 19.2, "Land": "Singapur"},
            {"tCO2/Kopf": 18.4, "Land": "Trinidad & Tobago"},
            {"tCO2/Kopf": 17.9, "Land": "Saudi-Arabien"},
            {"tCO2/Kopf": 17.6, "Land": "USA"},
            {"tCO2/Kopf": 15.9, "Land": "Kanada"},
            {"tCO2/Kopf": 15.4, "Land": "Belgien"},
            {"tCO2/Kopf": 15.2, "Land": "Australien"},
            {"tCO2/Kopf": 14.7, "Land": "Hongkong"},
            {"tCO2/Kopf": 14.1, "Land": "Schweiz"},
            {"tCO2/Kopf": 13.8, "Land": "Estland"},
            {"tCO2/Kopf": 13.6, "Land": "Oman"},
            {"tCO2/Kopf": 13.5, "Land": "Suedkorea"},
            {"tCO2/Kopf": 12.9, "Land": "Kasachstan"},
            {"tCO2/Kopf": 12.2, "Land": "Finnland"},
            {"tCO2/Kopf": 12.1, "Land": "Malta"},
            {"tCO2/Kopf": 11.5, "Land": "Taiwan"},
            {"tCO2/Kopf": 11.2, "Land": "Bahrain"},
            {"tCO2/Kopf": 10.5, "Land": "Oesterreich"},
            {"tCO2/Kopf": 10.4, "Land": "Deutschland"},
            {"tCO2/Kopf": 10.3, "Land": "Japan"},
            {"tCO2/Kopf": 9.7, "Land": "Russland"},
            {"tCO2/Kopf": 9.6, "Land": "Israel"},
            {"tCO2/Kopf": 9.1, "Land": "Norwegen"},
            {"tCO2/Kopf": 9.0, "Land": "Niederlande"},
            {"tCO2/Kopf": 9.0, "Land": "Slowenien"},
            {"tCO2/Kopf": 8.9, "Land": "Daenemark"},
            {"tCO2/Kopf": 8.8, "Land": "Slowakei"},
            {"tCO2/Kopf": 8.6, "Land": "Irland"},
            {"tCO2/Kopf": 8.5, "Land": "Iran"},
            {"tCO2/Kopf": 8.2, "Land": "Neuseeland"},
            {"tCO2/Kopf": 8.1, "Land": "Litauen"},
            {"tCO2/Kopf": 8.1, "Land": "Großbritannien"},
            {"tCO2/Kopf": 8.0, "Land": "Botswana"},
            {"tCO2/Kopf": 7.9, "Land": "Polen"},
            {"tCO2/Kopf": 7.8, "Land": "Malaysia"},
            {"tCO2/Kopf": 7.7, "Land": "Italien"},
            {"tCO2/Kopf": 7.1, "Land": "Schweden"},
            {"tCO2/Kopf": 6.9, "Land": "Ungarn"},
            {"tCO2/Kopf": 6.9, "Land": "Lettland"},
            {"tCO2/Kopf": 6.9, "Land": "Belarus"},
            {"tCO2/Kopf": 6.8, "Land": "Frankreich"},
            {"tCO2/Kopf": 6.6, "Land": "Zypern"},
            {"tCO2/Kopf": 6.3, "Land": "China"},
            {"tCO2/Kopf": 6.2, "Land": "Spanien"},
            {"tCO2/Kopf": 6.0, "Land": "Panama"},
            {"tCO2/Kopf": 5.8, "Land": "Suedafrika"},
            {"tCO2/Kopf": 5.7, "Land": "Griechenland"},
            {"tCO2/Kopf": 5.6, "Land": "Bulgarien"},
            {"tCO2/Kopf": 5.5, "Land": "Portugal"},
            {"tCO2/Kopf": 5.3, "Land": "Tuerkei"},
            {"tCO2/Kopf": 5.3, "Land": "Venezuela"},
            {"tCO2/Kopf": 5.1, "Land": "Koratien"},
            {"tCO2/Kopf": 5.0, "Land": "Chile"},
            {"tCO2/Kopf": 5.0, "Land": "Ukraine"},
            {"tCO2/Kopf": 4.7, "Land": "Mauritius"},
            {"tCO2/Kopf": 4.2, "Land": "Argentinien"},
            {"tCO2/Kopf": 4.1, "Land": "Thailand"},
            {"tCO2/Kopf": 4.1, "Land": "Laos"},
            {"tCO2/Kopf": 4.0, "Land": "Rumaenien"},
            {"tCO2/Kopf": 4.0, "Land": "Aserbaidschan"},
            {"tCO2/Kopf": 3.8, "Land": "Mexiko"},
            {"tCO2/Kopf": 3.7, "Land": "Namibia"},
            {"tCO2/Kopf": 3.4, "Land": "Jordanien"},
            {"tCO2/Kopf": 3.3, "Land": "Uruguay"},
            {"tCO2/Kopf": 2.9, "Land": "Jamaica"},
            {"tCO2/Kopf": 2.9, "Land": "Ecuador"},
            {"tCO2/Kopf": 2.8, "Land": "Georgien"},
            {"tCO2/Kopf": 2.6, "Land": "Kirgistan"},
            {"tCO2/Kopf": 2.6, "Land": "Costa Rica"},
            {"tCO2/Kopf": 2.5, "Land": "Aegypten"},
            {"tCO2/Kopf": 2.5, "Land": "Dominikanische Repubilk"},
            {"tCO2/Kopf": 2.4, "Land": "Tunesien"},
            {"tCO2/Kopf": 2.3, "Land": "Brasilien"},
            {"tCO2/Kopf": 2.2, "Land": "Indonesien"},
            {"tCO2/Kopf": 2.2, "Land": "Vietnam"},
            {"tCO2/Kopf": 2.2, "Land": "Albanien"},
            {"tCO2/Kopf": 2.2, "Land": "Armenien"},
            {"tCO2/Kopf": 2.1, "Land": "Kolumbien"},
            {"tCO2/Kopf": 2.0, "Land": "Peru"},
            {"tCO2/Kopf": 1.9, "Land": "Bolivien"},
            {"tCO2/Kopf": 1.9, "Land": "Marokko"},
            {"tCO2/Kopf": 1.7, "Land": "Indien"},
            {"tCO2/Kopf": 1.7, "Land": "Paraguay"},
            {"tCO2/Kopf": 1.6, "Land": "Sri Lanka"},
            {"tCO2/Kopf": 1.5, "Land": "Philippinen"},
            {"tCO2/Kopf": 1.4, "Land": "Guatemala"},
            {"tCO2/Kopf": 1.3, "Land": "Honduras"},
            {"tCO2/Kopf": 1.3, "Land": "El Salvador"},
            {"tCO2/Kopf": 1.2, "Land": "Kambodscha"},
            {"tCO2/Kopf": 1.2, "Land": "Pakistan"}      
]
};

const jsonData2 = {
        "companies": [
      {
        "name": "Saudi Aramco",
        "co2_ausstoß": "500"
      },
      {
        "name": "Chevron",
        "co2_ausstoß": "41"
      },
      {
        "name": "ExxonMobil",
        "co2_ausstoß": "36"
      },
      {
        "name": "BP",
        "co2_ausstoß": "34"
      },
      {
        "name": "Royal Dutch Shell",
        "co2_ausstoß": "31"
      },
      {
        "name": "TotalEnergies",
        "co2_ausstoß": "31"
      },
      {
        "name": "Glencore",
        "co2_ausstoß": "27"
      },
      {
        "name": "China National Petroleum Corporation (CNPC)",
        "co2_ausstoß": "23"
      },
      {
        "name": "Gazprom",
        "co2_ausstoß": "18"
      },
      {
        "name": "ConocoPhillips",
        "co2_ausstoß": "16"
      },
      {
        "name": "BHP",
        "co2_ausstoß": "14"
      },
      {
        "name": "Valero Energy",
        "co2_ausstoß": "13"
      },
      {
        "name": "Rio Tinto",
        "co2_ausstoß": "12"
      },
      {
        "name": "ArcelorMittal",
        "co2_ausstoß": "11"
      },
      {
        "name": "Kuwait Petroleum Corporation (KPC)",
        "co2_ausstoß": "10"
      },
      {
        "name": "PetroChina",
        "co2_ausstoß": "10"
      },
      {
        "name": "Vale",
        "co2_ausstoß": "9"
      },
      {
        "name": "Peabody Energy",
        "co2_ausstoß": "8"
      },
      {
        "name": "Exxaro Resources",
        "co2_ausstoß": "7"
      },
      {
        "name": "Consol Energy",
        "co2_ausstoß": "6"
      }
    ]
  };
  

  // Funktion zum Anzeigen der Laender-Emissions JSON-Daten in HTML
  function anzeigenDatenCountries() {
        const tableBody = document.getElementById('country-data');

        jsonData.countries.forEach(country => {
          const row = document.createElement('tr');
          const landCell = document.createElement('td');
          const tco2Cell = document.createElement('td');

          landCell.textContent = country.Land;
          tco2Cell.textContent = country['tCO2/Kopf'];

          row.appendChild(landCell);
          row.appendChild(tco2Cell);

          tableBody.appendChild(row);
        });
      }

  // Funktion zum Anzeigen der Unternehmens-Emissions JSON-Daten in HTML
  function anzeigenDatenCompanies() {
         const tableBody = document.getElementById('company-data');

        jsonData2.companies.forEach(companies => {
          const row = document.createElement('tr');
          const nameCell = document.createElement('td');
          const co2_ausstoßCell = document.createElement('td');

          nameCell.textContent = companies.name;
          co2_ausstoßCell.textContent = companies['co2_ausstoß'];

          row.appendChild(nameCell);
          row.appendChild(co2_ausstoßCell);

          tableBody.appendChild(row);
        });
      }

      // Die Funktion zum Sortieren der Laendertabelle: Alphabetisch, Aufsteigend, Absteigend
      function sortTable() {
        const table = document.getElementById('country-table');
        const rows = table.getElementsByTagName('tr');
        const sortOption = document.getElementById('sortOption').value;

        if (sortOption === 'alphabetical') {
          const sortedRows = Array.from(rows).slice(1).sort((a, b) => {
            const cellA = a.getElementsByTagName('td')[0].textContent.toLowerCase();
            const cellB = b.getElementsByTagName('td')[0].textContent.toLowerCase();
            return cellA.localeCompare(cellB);
          });

          for (let i = 0; i < sortedRows.length; i++) {
            table.appendChild(sortedRows[i]);
          }
        } else if (sortOption === 'emissions_asc') {
            const sortedRows = Array.from(rows).slice(1).sort((a, b) => {
            const cellA = parseFloat(a.getElementsByTagName('td')[1].textContent);
            const cellB = parseFloat(b.getElementsByTagName('td')[1].textContent);
            return cellA - cellB;
          });

          for (let i = 0; i < sortedRows.length; i++) {
            table.appendChild(sortedRows[i]);
          };  

        } else if (sortOption === 'emissions_desc') {
            const sortedRows = Array.from(rows).slice(1).sort((a, b) => {
            const cellA = parseFloat(a.getElementsByTagName('td')[1].textContent);
            const cellB = parseFloat(b.getElementsByTagName('td')[1].textContent);
            return cellB - cellA; // Reihenfolge umgekehrt, um absteigende Sortierung zu erhalten
          });

          for (let i = 0; i < sortedRows.length; i++) {
          table.appendChild(sortedRows[i]);
            };
        }
      }

      // Die Funktion zum Sortieren der Unternehmenstabelle: Alphabetisch, Aufsteigend, Absteigend
      function sortTableCompany() {
        const table = document.getElementById('company-table');
        const rows = table.getElementsByTagName('tr');
        const sortOption = document.getElementById('sortOptionComp').value;

        if (sortOption === 'alphabetical') {
          const sortedRows = Array.from(rows).slice(1).sort((a, b) => {
            const cellA = a.getElementsByTagName('td')[0].textContent.toLowerCase();
            const cellB = b.getElementsByTagName('td')[0].textContent.toLowerCase();
            return cellA.localeCompare(cellB);
          });

          for (let i = 0; i < sortedRows.length; i++) {
            table.appendChild(sortedRows[i]);
          }
        } else if (sortOption === 'emissions_asc') {
            const sortedRows = Array.from(rows).slice(1).sort((a, b) => {
            const cellA = parseFloat(a.getElementsByTagName('td')[1].textContent);
            const cellB = parseFloat(b.getElementsByTagName('td')[1].textContent);
            return cellA - cellB;
          });

          for (let i = 0; i < sortedRows.length; i++) {
            table.appendChild(sortedRows[i]);
          };  

        } else if (sortOption === 'emissions_desc') {
            const sortedRows = Array.from(rows).slice(1).sort((a, b) => {
            const cellA = parseFloat(a.getElementsByTagName('td')[1].textContent);
            const cellB = parseFloat(b.getElementsByTagName('td')[1].textContent);
            return cellB - cellA; // Reihenfolge umgekehrt, um absteigende Sortierung zu erhalten
          });

          for (let i = 0; i < sortedRows.length; i++) {
          table.appendChild(sortedRows[i]);
            };
        }
      }

        // Funktion zum Filtern der Laender nach Namen (Suchfeld)
        function filterByCountry(searchTerm) {
          const table = document.getElementById('country-table');
          const rows = table.getElementsByTagName('tr');

          for (let i = 1; i < rows.length; i++) {
            const row = rows[i];
            const countryName = row.getElementsByTagName('td')[0].textContent.toLowerCase();  //textContent verhindert Code-Injection

            if (countryName.includes(searchTerm.toLowerCase())) {
              row.style.display = '';
            } else {
              row.style.display = 'none';
            }
          }
        }

        // Funktion zum Filtern der Unternehmen nach Namen (Suchfeld)
        function filterByCompany(searchTerm) {
          const table = document.getElementById('company-table');
          const rows = table.getElementsByTagName('tr');

          for (let i = 1; i < rows.length; i++) {
            const row = rows[i];
            const companyName = row.getElementsByTagName('td')[0].textContent.toLowerCase();  //textContent verhindert Code-Injection

            if (companyName.includes(searchTerm.toLowerCase())) {
              row.style.display = '';
            } else {
              row.style.display = 'none';
            }
          }
        }

        // Event-Handler soll neuladen der Seite bei druecken der Return Taste in der Laendersuche verhindern
          document.getElementById('search-country').addEventListener('keypress', function (event) {
            if (event.key === 'Enter') {
              event.preventDefault(); // Verhindert das Neuladen der Seite
              this.blur(); // Suchfeld verliert Fokus
            }
          });

          // Event-Handler soll neuladen der Seite bei druecken der Return Taste in der Laendersuche verhindern
          document.getElementById('search-company').addEventListener('keypress', function (event) {
            if (event.key === 'Enter') {
              event.preventDefault(); // Verhindert das Neuladen der Seite
              this.blur(); // Suchfeld verliert Fokus
            }
          });

      window.onload = function() {
        anzeigenDatenCountries();
        anzeigenDatenCompanies();
      };

  </script>   
</html>